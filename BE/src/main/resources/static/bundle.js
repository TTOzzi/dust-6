!function(e){var t={};function s(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=3)}([function(e,t,s){},function(e,t){let s=null,r=null,o=null,n=null;document.addEventListener("touchstart",e=>{"true"!==e.target.dataset.swipeIgnore&&(n=e.target,o=Date.now(),s=e.touches[0].clientX,r=0)},!1),document.addEventListener("touchmove",e=>{if(!s)return;const t=e.touches[0].clientX;r=s-t,e.target.closest(".container").style.left="-"+r+"px"},!1),document.addEventListener("touchend",e=>{if(n!==e.target)return;const t=screen.width/2,i=Date.now()-o;Math.abs(r)>t&&i<500&&(e.target.closest(".container").style.left=r>0?"-100vw":0),s=null,o=null},!1)},function(e,t){const s=document.querySelector("header"),r=s.querySelector(".menu:first-child"),o=s.querySelector(".menu:last-child"),n=document.querySelector(".container");r.addEventListener("touchstart",()=>n.style.left=0,{passive:!1}),o.addEventListener("touchstart",()=>n.style.left="-100vw",{passive:!1})},function(e,t,s){"use strict";s.r(t);s(0);class r{constructor(){this._observers=new Set}addObserver(e){this._observers.add(e)}removeObserver(e){this._observers=[...this._observers].filter(t=>t!==e)}notify(e){this._observers.forEach(t=>t(e))}}class o{async get(e){const t=await fetch(e);return await t.json()}}var n={code:200,message:"success",data:{imageUrls:["http://www.airkorea.or.kr/file/viewImage/?atch_id=56593","http://www.airkorea.or.kr/file/viewImage/?atch_id=56593","http://www.airkorea.or.kr/file/viewImage/?atch_id=56593"],informOverall:"○ [미세먼지] 원활한 대기 확산으로 대기 상태가 '보통' 수준이겠으나, 전일 발원한 황사의 영향으로 일부 남서부지역은 늦은 밤에 농도가 다소 높을 것으로 예상됨",informGrade:"서울 : 보통,제주 : 보통,전남 : 보통,전북 : 보통,광주 : 보통,경남 : 보통,경북 : 보통,울산 : 보통,대구 : 보통,부산 : 보통,충남 : 보통,충북 : 보통,세종 : 보통,대전 : 보통,영동 : 보통,영서 : 보통,경기남부 : 보통,경기북부 : 보통,인천 : 보통"}};s(1),s(2);const i=new class extends r{constructor(){super()}getGeoLocation(){if(navigator.geolocation){const e={enableHighAccuracy:!0,maximumAge:0,timeout:1/0};navigator.geolocation.getCurrentPosition(this.success.bind(this),this.error.bind(this),e)}else this.showNoGpsScreen()}success(e){const{latitude:t,longitude:s}=e.coords,r=`http://34.23.92:8080/api*/dust-status*/location?latitude=${t}&longitude=${s}`;(new o).get(r).then(e=>console.log(e))}error(e){e.code==e.PERMISSION_DENIED&&this.showNoGpsScreen()}showNoGpsScreen(){document.querySelector(".no-gps").style.display="flex"}},a=new class extends r{constructor(){super()}fetchData(){this.notify(n)}},c=new class{constructor(e){this.dustModel=e}subscribe(){this.dustModel.addObserver(this.showLatestData)}showLatestData(e){console.log("dustView notified! ",e)}}(i),u=new class{constructor(e){this.forecastModel=e}subscribe(){this.forecastModel.addObserver(this.showLatestData)}showLatestData(e){console.log("forecastView notified!",e)}}(a),l=new class{constructor(e,t){this.dustModel=e,this.dustView=t}barGraphHandler(){}init(){this.dustView.subscribe(),this.dustModel.getGeoLocation()}}(i,c),d=new class{constructor(e,t){this.forecastModel=e,this.forecastView=t}playButtonHandler(){}progressBarHandler(){}init(){this.forecastView.subscribe(),this.forecastModel.fetchData()}}(a,u);window.addEventListener("DOMContentLoaded",()=>{l.init(),d.init()})}]);